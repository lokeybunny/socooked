{
  "skill_name": "clawd-command-crm",
  "version": "1.0.0",
  "description": "CRM integration for CLAWD Conductor via Supabase Edge Functions",
  "auth": {
    "type": "shared_secret",
    "header": "x-bot-secret",
    "secret_env": "BOT_SECRET"
  },
  "base_url": "https://mziuxsfxevjnmdwnrqjs.supabase.co/functions/v1",
  "actions": [
    {
      "name": "get_state",
      "description": "Get a full CRM snapshot: boards, customers, deals, projects, meetings",
      "method": "GET",
      "path": "/clawd-bot/state"
    },
    {
      "name": "create_or_update_lead",
      "description": "Create a new lead or update an existing one (deduplicates by email)",
      "method": "POST",
      "path": "/clawd-bot/lead"
    },
    {
      "name": "create_customer",
      "description": "Create or update a customer record",
      "method": "POST",
      "path": "/clawd-bot/customer"
    },
    {
      "name": "create_deal",
      "description": "Create a new deal linked to a customer",
      "method": "POST",
      "path": "/clawd-bot/deal"
    },
    {
      "name": "create_project",
      "description": "Create or update a project",
      "method": "POST",
      "path": "/clawd-bot/project"
    },
    {
      "name": "create_project_task",
      "description": "Create or update a task within a project",
      "method": "POST",
      "path": "/clawd-bot/project-task"
    },
    {
      "name": "create_bot_task",
      "description": "Create a bot task for automated processing",
      "method": "POST",
      "path": "/clawd-bot/bot-task"
    },
    {
      "name": "create_card",
      "description": "Create a Kanban board card",
      "method": "POST",
      "path": "/clawd-bot/card"
    },
    {
      "name": "move_card",
      "description": "Move a card to a different list",
      "method": "POST",
      "path": "/clawd-bot/move"
    },
    {
      "name": "comment_card",
      "description": "Add a comment to a card",
      "method": "POST",
      "path": "/clawd-bot/comment"
    },
    {
      "name": "attach_to_card",
      "description": "Attach a file or link to a card",
      "method": "POST",
      "path": "/clawd-bot/attach"
    },
    {
      "name": "create_meeting",
      "description": "Schedule a meeting and get a room URL",
      "method": "POST",
      "path": "/clawd-bot/meeting"
    },
    {
      "name": "generate_email",
      "description": "Generate a client-facing email with a portal or meeting link",
      "method": "POST",
      "path": "/clawd-bot/generate-email"
    },
    {
      "name": "create_invoice",
      "description": "Create and optionally send an invoice",
      "method": "POST",
      "path": "/invoice-api"
    }
  ]
}
